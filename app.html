<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>LockAllGroups</title>
  <script src="https://miro.com/app/static/sdk/v2/miro.js"></script>
</head>
<body>
  <script>
    async function lockAllGroups() {
      const items = await miro.board.get({ type: ['frame', 'image', 'shape'] });

      for (const item of items) {
        try {
          await miro.board.update({
            id: item.id,
            locked: true
          });
          console.log(`ðŸ”’ Ð—Ð°Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½: ${item.type} id=${item.id}`);
        } catch (e) {
          console.error(`âŒ ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð»Ð¾Ñ‡Ð¸Ñ‚ÑŒ Ð¾Ð±ÑŠÐµÐºÑ‚`, item, e);
        }
      }

      miro.board.ui.notify(`ðŸ”’ Ð—Ð°Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¾ Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²: ${items.length}`);
    }

    miro.board.onReady(() => {
      lockAllGroups();
    });
  </script>
</body>
</html>
